---
// Stats section with background image, dark overlay, animated counters
import { getImage } from "astro:assets";
import statsImage from "../../assets/banners/stats-banner.jpg";
import StarIcon from "../icons/Star.astro";
import UserGroupIcon from "../icons/UserGroup.astro";
import SquareCheckIcon from "../icons/SquareCheck.astro";
import CalendarIcon from "../icons/Calendar.astro";
import Container from "../layout/Container.astro";

const optimizedStats = await getImage({ src: statsImage });
---

<section
    class="relative bg-cover bg-center text-white stats-section"
    style={`background-image: url('${optimizedStats.src}')`}
    aria-labelledby="stats-title"
>
    <div class="absolute inset-0 bg-black/50"></div>
    <Container className="relative">
        <div class="relative">
            <h2
                id="stats-title"
                class="m-0 mb-6 text-2xl md:text-3xl lg:text-4xl font-bold leading-tight relative pb-2 inline-block tracking-tight after:content-[''] after:absolute after:left-0 after:bottom-0 after:h-1.5 md:after:h-2 after:w-[56%] lg:after:w-[40%] after:bg-linear-to-r after:from-[#67a8ff] after:to-primary after:rounded-full after:shadow-[0_2px_6px_rgba(15,98,254,0.35)]"
            >
                VIAC o našej práci
            </h2>

            <div class="grid grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6">
                <article
                    class="bg-white/5 border border-white/20 rounded-2xl p-4 md:p-6 grid gap-2 shadow-xl backdrop-blur-sm transition-transform duration-300 hover:-translate-y-1"
                >
                    <div class="text-[#93c5fd]" aria-hidden="true">
                        <StarIcon width={28} height={28} fill="currentColor" />
                    </div>
                    <div
                        class="text-2xl md:text-3xl lg:text-4xl font-extrabold leading-tight tracking-tight value"
                        data-target="45"
                    >
                        0
                    </div>
                    <div class="text-sm md:text-base text-gray-200">
                        Spravovaných domov
                    </div>
                </article>

                <article
                    class="bg-white/5 border border-white/20 rounded-2xl p-4 md:p-6 grid gap-2 shadow-xl backdrop-blur-sm transition-transform duration-300 hover:-translate-y-1"
                >
                    <div class="text-[#93c5fd]" aria-hidden="true">
                        <UserGroupIcon
                            width={28}
                            height={28}
                            fill="currentColor"
                        />
                    </div>
                    <div
                        class="text-2xl md:text-3xl lg:text-4xl font-extrabold leading-tight tracking-tight value"
                        data-target="1740"
                    >
                        0
                    </div>
                    <div class="text-sm md:text-base text-gray-200">
                        Bytov v správe
                    </div>
                </article>

                <article
                    class="bg-white/5 border border-white/20 rounded-2xl p-4 md:p-6 grid gap-2 shadow-xl backdrop-blur-sm transition-transform duration-300 hover:-translate-y-1"
                >
                    <div class="text-[#93c5fd]" aria-hidden="true">
                        <SquareCheckIcon
                            width={28}
                            height={28}
                            fill="currentColor"
                        />
                    </div>
                    <div
                        class="text-2xl md:text-3xl lg:text-4xl font-extrabold leading-tight tracking-tight value"
                        data-target="100"
                    >
                        0
                    </div>
                    <div class="text-sm md:text-base text-gray-200">
                        % Spokojnosť klientov
                    </div>
                </article>

                <article
                    class="bg-white/5 border border-white/20 rounded-2xl p-4 md:p-6 grid gap-2 shadow-xl backdrop-blur-sm transition-transform duration-300 hover:-translate-y-1"
                >
                    <div class="text-[#93c5fd]" aria-hidden="true">
                        <CalendarIcon
                            width={28}
                            height={28}
                            fill="currentColor"
                        />
                    </div>
                    <div
                        class="text-2xl md:text-3xl lg:text-4xl font-extrabold leading-tight tracking-tight value"
                        data-target="21"
                    >
                        0
                    </div>
                    <div class="text-sm md:text-base text-gray-200">
                        Rokov skúseností
                    </div>
                </article>
            </div>
        </div>
    </Container>

    <script>
        import { initStatsCounter } from "../../lib/components/stats-counter";
        initStatsCounter();
    </script>
</section>
