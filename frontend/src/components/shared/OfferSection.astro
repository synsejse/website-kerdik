---
import Container from "../layout/Container.astro";
import "leaflet/dist/leaflet.css";
---

<section class="bg-white" aria-labelledby="map-title">
  <Container>
    <h2
      id="map-title"
      class="m-0 mb-8 text-2xl md:text-3xl lg:text-4xl font-bold leading-tight relative pb-2 inline-block tracking-tight after:content-[''] after:absolute after:left-0 after:bottom-0 after:h-1.5 md:after:h-2 after:w-[58%] lg:after:w-[46%] after:bg-linear-to-r after:from-primary after:to-[#67a8ff] after:rounded-full after:shadow-[0_2px_6px_rgba(15,98,254,0.35)]"
    >
      Mapa objektov
    </h2>

    <div id="map-loading" class="text-center text-gray-500 py-8">Načítavam mapu…</div>
    <div id="map-container" class="hidden rounded-xl overflow-hidden shadow-lg border border-gray-200 relative z-0" style="height: 500px;"></div>
    <div id="map-error" class="hidden text-center text-red-500 py-8"></div>
  </Container>
</section>

<section class="bg-gray-50" aria-labelledby="offer-title">
  <Container>
    <h2
      id="offer-title"
      class="m-0 mb-8 text-2xl md:text-3xl lg:text-4xl font-bold leading-tight relative pb-2 inline-block tracking-tight after:content-[''] after:absolute after:left-0 after:bottom-0 after:h-1.5 md:after:h-2 after:w-[58%] lg:after:w-[46%] after:bg-linear-to-r after:from-primary after:to-[#67a8ff] after:rounded-full after:shadow-[0_2px_6px_rgba(15,98,254,0.35)]"
    >
      Naša Ponuka
    </h2>

    <div id="offers-list" class="grid gap-8 md:grid-cols-2 lg:grid-cols-3" role="list">
      <!-- Client will populate this container -->
      <div class="col-span-full text-center text-gray-500 py-8" id="offers-loading">Načítavam ponuky…</div>
    </div>
  </Container>
</section>

<!-- Icon Templates -->
<template id="icon-chevron-right">
  <svg class="h-4 w-4" fill="currentColor" viewBox="0 0 320 512">
    <path d="M310.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-192 192c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L242.7 256 73.4 86.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l192 192z"/>
  </svg>
</template>

<script>
  import { initOfferSection } from "../../lib/components/offer-section";
  initOfferSection();
</script>
